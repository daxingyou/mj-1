account server is listening on 9000
game server is listening on localhost:9003
dealer api is listening on localhost:12581
client service is listening on port 9001
room service is listening on localhost:9002
game server is listening on 10000
game server registered.
	id:127.0.0.1:10000
	addr:127.0.0.1
	http port:9003
	socket clientport:10000
127.0.0.1:10000
5f07171cb498d75fd82ecd0de85df3a9
invalid parameters
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
client service is listening on port 9001
account server is listening on 9000
game server is listening on localhost:9003
room service is listening on localhost:9002
dealer api is listening on localhost:12581
game server is listening on 10000
game server registered.
	id:10.0.37.41:10000
	addr:127.0.0.1
	http port:9003
	socket clientport:10000
10.0.37.41:10000
3600996d9329eff8ba1aa52aa71da2bc
invalid parameters
{ type: 'xzdd',
  baseScore: 1,
  zimo: 0,
  jiangdui: false,
  hsz: false,
  dianganghua: 0,
  menqing: false,
  tiandihu: false,
  maxFan: 4,
  maxGames: 4,
  creator: 2 }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time)                 VALUES('1499746418001792800','792800','{"type":"xzdd","baseScore":1,"zimo":0,"jiangdui":false,"hsz":false,"dianganghua":0,"menqing":false,"tiandihu":false,"maxFan":4,"maxGames":4,"creator":2}','127.0.0.1',10000,1499746418)
/Users/Sjw/Desktop/js麻将/server/server/node_modules/mysql/lib/protocol/Parser.js:78
        throw err; // Rethrow non-MySQL errors
        ^

Error: ER_NO_DEFAULT_FOR_FIELD: Field 'next_button' doesn't have a default value
    at Query.Sequence._packetToError (/Users/Sjw/Desktop/js麻将/server/server/node_modules/mysql/lib/protocol/sequences/Sequence.js:51:14)
    at Query.ErrorPacket (/Users/Sjw/Desktop/js麻将/server/server/node_modules/mysql/lib/protocol/sequences/Query.js:83:18)
    at Protocol._parsePacket (/Users/Sjw/Desktop/js麻将/server/server/node_modules/mysql/lib/protocol/Protocol.js:280:23)
    at Parser.write (/Users/Sjw/Desktop/js麻将/server/server/node_modules/mysql/lib/protocol/Parser.js:74:12)
    at Protocol.write (/Users/Sjw/Desktop/js麻将/server/server/node_modules/mysql/lib/protocol/Protocol.js:39:16)
    at Socket.<anonymous> (/Users/Sjw/Desktop/js麻将/server/server/node_modules/mysql/lib/Connection.js:109:28)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:188:7)
    at readableAddChunk (_stream_readable.js:176:18)
    at Socket.Readable.push (_stream_readable.js:134:10)
    --------------------
    at Protocol._enqueue (/Users/Sjw/Desktop/js麻将/server/server/node_modules/mysql/lib/protocol/Protocol.js:141:48)
    at PoolConnection.query (/Users/Sjw/Desktop/js麻将/server/server/node_modules/mysql/lib/Connection.js:214:25)
    at /Users/Sjw/Desktop/js麻将/server/server/utils/db.js:15:18
    at Ping.onOperationComplete [as _callback] (/Users/Sjw/Desktop/js麻将/server/server/node_modules/mysql/lib/Pool.js:108:5)
    at Ping.Sequence.end (/Users/Sjw/Desktop/js麻将/server/server/node_modules/mysql/lib/protocol/sequences/Sequence.js:85:24)
    at Ping.Sequence.OkPacket (/Users/Sjw/Desktop/js麻将/server/server/node_modules/mysql/lib/protocol/sequences/Sequence.js:94:8)
    at Protocol._parsePacket (/Users/Sjw/Desktop/js麻将/server/server/node_modules/mysql/lib/protocol/Protocol.js:280:23)
    at Parser.write (/Users/Sjw/Desktop/js麻将/server/server/node_modules/mysql/lib/protocol/Parser.js:74:12)
    at Protocol.write (/Users/Sjw/Desktop/js麻将/server/server/node_modules/mysql/lib/protocol/Protocol.js:39:16)
    at Socket.<anonymous> (/Users/Sjw/Desktop/js麻将/server/server/node_modules/mysql/lib/Connection.js:109:28)
problem with request: connect ECONNREFUSED 127.0.0.1:9003
problem with request: connect ECONNREFUSED 127.0.0.1:9003
problem with request: connect ECONNREFUSED 127.0.0.1:9003
problem with request: connect ECONNREFUSED 127.0.0.1:9003
problem with request: connect ECONNREFUSED 127.0.0.1:9003
problem with request: connect ECONNREFUSED 127.0.0.1:9003
account server is listening on 10000
game server is listening on localhost:10003
dealer api is listening on localhost:12581
client service is listening on port 10001
room service is listening on localhost:10002
game server is listening on 10005
game server registered.
	id:001
	addr:127.0.0.1
	http port:10003
	socket clientport:10005
001
1d94edad3ac1dbd0b710c96def5ab160
{ userid: '10',
  name: '夏侯雀圣',
  roomid: '342338',
  sign: '7beef5e957b2892e0f76cd23239d9fff' }
7beef5e957b2892e0f76cd23239d9fff
{ token: '9d5d1a3ce5f4e01dc9b406ae349fada8',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "342338" WHERE userid = "10"
342338
9d5d1a3ce5f4e01dc9b406ae349fada8
1501396728444
7beecc8b8a6486bd0964ed589c7ca2d7
SELECT name,sex,headimg FROM t_users WHERE userid=12
{ userid: '12',
  name: '上官好运',
  roomid: '342338',
  sign: '63a82f1d821a0a48492aefcf4f331a04' }
63a82f1d821a0a48492aefcf4f331a04
{ token: 'd360b4c1201b1f3a6b618760a7accb08',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "342338" WHERE userid = "12"
342338
d360b4c1201b1f3a6b618760a7accb08
1501396730495
5327c851cc76afb62f8c7ce947808469
SELECT name,sex,headimg FROM t_users WHERE userid=10
SELECT name,sex,headimg FROM t_users WHERE userid=13
SELECT name,sex,headimg FROM t_users WHERE userid=11
东阳不输
INSERT INTO t_users(account,name,coins,gems,sex,headimg) VALUES("guest_1501396712647","5Lic6Ziz5LiN6L6T",1000,21,0,null)
UPDATE t_users SET roomid = null WHERE userid = "10"
{ type: 'xzdd',
  baseScore: 1,
  zimo: 0,
  jiangdui: false,
  hsz: false,
  dianganghua: 0,
  menqing: false,
  tiandihu: false,
  maxFan: 4,
  maxGames: 4,
  creator: 10 }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time)                 VALUES('1501396746264289996','289996','{"type":"xzdd","baseScore":1,"zimo":0,"jiangdui":false,"hsz":false,"dianganghua":0,"menqing":false,"tiandihu":false,"maxFan":4,"maxGames":4,"creator":10}','127.0.0.1',10005,1501396747)
1501396746264289996
{ userid: '10',
  name: '夏侯雀圣',
  roomid: '289996',
  sign: 'a3cdb604b5c3eba9bf839533fae19941' }
a3cdb604b5c3eba9bf839533fae19941
{ token: '56728c851c0af414373ae57a86fdf2d9',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "289996" WHERE userid = "10"
289996
56728c851c0af414373ae57a86fdf2d9
1501396746278
983b53e988342b07e203e723153bf81d
{ userid: '14',
  name: '东阳不输',
  roomid: '289996',
  sign: '6d7542feb278040d3c62dd3dc0751867' }
6d7542feb278040d3c62dd3dc0751867
{ token: '8d4b71ed9d73e8e93fbdd02b51a86baa',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "289996" WHERE userid = "14"
289996
8d4b71ed9d73e8e93fbdd02b51a86baa
1501396757674
08c35f369a878b0fb235e9f353113d58
UPDATE t_users SET roomid = null WHERE userid = "12"
UPDATE t_users SET roomid = null WHERE userid = "13"
UPDATE t_users SET roomid = null WHERE userid = "11"
DELETE FROM t_rooms WHERE id = '342338'
{ userid: '12',
  name: '上官好运',
  roomid: '289996',
  sign: 'beece320da9866fbbefca900508d147c' }
beece320da9866fbbefca900508d147c
{ token: '6e025f923a5ae833267e49476753adec',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "289996" WHERE userid = "12"
289996
6e025f923a5ae833267e49476753adec
1501396767853
ba1b0597a2b5c1f47ccaa3ee51dd9062
SELECT name,sex,headimg FROM t_users WHERE userid=14
{ userid: '13',
  name: '东阳不输',
  roomid: '289996',
  sign: 'c00284b2ad636ffb868cdc7d751d5a50' }
c00284b2ad636ffb868cdc7d751d5a50
{ token: '6d32ceda790e4531b9e0071918470911',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "289996" WHERE userid = "13"
289996
6d32ceda790e4531b9e0071918470911
1501396789447
75e176ff03f4b23a6506159bd9a5c066
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_dingque_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_dingque_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_dingque_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_dingque_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
